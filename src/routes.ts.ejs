declare function require(path: string): any;

declare namespace require {
  function ensure(deps: string[], callback: () => void): void;
}

export default [
<% routes.forEach(function(route, idx) { %>
  {
    pattern: <%- route.path %>,
    key: <%- route.key %>,
    load: (resolve: (mod: IPageModule<{}, {}>) => void) => {
      require.ensure([<%- route.page %>], () => {
        if (process.env.NODE_ENV === 'production') {
          resolve(require(<%- route.page %>));
        } else {
          setTimeout(() => {
            resolve(require(<%- route.page %>));
          }, 500);
        }
      });
    }
  },
<% }); %>
] as Array<IPageConfig>;
